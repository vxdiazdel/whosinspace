"use strict";$(document).ready(function(){function t(){y.clearRect(0,0,g,d),y.fillStyle="rgba(0, 0, 0, .15)",y.fillRect(0,0,g,d)}function a(){for(var t=0;t<m;t++){var a={x:r(0,g),y:r(0,d),s:r(p,v),opacity:Math.random(),inc:.03*Math.random(),factor:i()};M.push(a)}console.log("Create stars:",M)}function n(){for(var t=0;t<M.length;t++)y.beginPath(),y.fillStyle="rgba(255, 255, 255, "+M[t].opacity+")",y.arc(M[t].x,M[t].y,M[t].s,0,2*Math.PI,!1),y.fill();o()}function o(){console.log("Glow:",M[0]),t();for(var a=0;a<M.length;a++)M[a].opacity>1?M[a].factor=-1:M[a].opacity<=0&&(M[a].factor=1,M[a].x=r(0,g),M[a].y=r(0,d)),M[a].opacity+=M[a].inc*M[a].factor,y.beginPath(),y.fillStyle="rgba(255, 255, 255, "+M[a].opacity+")",y.arc(M[a].x,M[a].y,M[a].s,0,2*Math.PI,!1),y.fill();window.requestAnimationFrame(o)}function r(t,a){return Math.floor(Math.random()*a-t)+t}function i(){return 1===Math.round(Math.random())?1:-1}function c(){$.getJSON(w,function(t){return e(t)})}function e(t){var a=h(t);s.html(a)}function l(){c(),t(),a(),n()}var f=$("#astro-template").html(),h=Handlebars.compile(f),s=$(".info"),u=($("#count"),$(window)),y=$("canvas.stars")[0].getContext("2d"),g=u.width(),d=u.height(),m=100,p=1,v=2,M=[],w="//api.open-notify.org/astros.json";y.canvas.width=g,y.canvas.height=d,l()});